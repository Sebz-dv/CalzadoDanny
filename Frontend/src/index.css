@import "tailwindcss";

/* Dark variant al estilo Sebas (Tailwind v4) */
@custom-variant dark (&:where(.dark, .dark *));

/* =======================
   TOKENS (HSL con /alpha)
   ======================= */
:root {
  /* 🌞 Light Mode */
  --bg: 210 20% 98%;            /* #F9FAFB */
  --fg: 221 39% 11%;            /* #111827 */

  --card: 0 0% 100%;            /* #FFFFFF */
  --muted: 220 15% 95%;         /* aprox a #F3F4F6 para fondos sutiles */
  --border: 220 13% 91%;        /* #E5E7EB */
  --ring: 221 83% 53%;          /* usa primary para focus ring (#2563EB) */

  /* Marca y CTA (aliases clásicos) */
  --primary: 221 83% 53%;       /* #2563EB */
  --primary-foreground: 0 0% 100%;
  --secondary: 271 81% 56%;     /* #9333EA */
  --secondary-foreground: 0 0% 100%;
  --accent: 38 92% 50%;         /* #F59E0B */
  --accent-foreground: 221 39% 11%; /* texto oscuro sobre accent */

  /* Semánticos */
  --success: 160 84% 39%;       /* #10B981 */
  --warning: 48 96% 53%;        /* #FACC15 */
  --destructive: 0 84% 60%;     /* #EF4444 */
  --info: 199 89% 48%;          /* #0EA5E9 */

  /* Foregrounds semánticos */
  --success-foreground: 0 0% 100%;
  --warning-foreground: 221 39% 11%;
  --destructive-foreground: 0 0% 100%;
  --info-foreground: 0 0% 100%;

  /* Texto secundarios / placeholders */
  --muted-foreground: 220 9% 46%;   /* #6B7280 */
  --placeholder: 220 9% 46%;
  --input: var(--border);

  /* Radius y sombras */
  --radius: 0.75rem;
  --shadow-soft: 0 2px 10px hsl(223 30% 8% / 0.08);
  --shadow-strong: 0 10px 30px hsl(223 40% 8% / 0.16);
}

/* =======================
   OVERRIDES DARK MODE
   ======================= */
.dark {
  /* 🌚 Dark Mode */
  --bg: 221 39% 11%;            /* #111827 */
  --fg: 210 20% 98%;            /* #F9FAFB */

  --card: 215 28% 17%;          /* #1F2937 */
  --muted: 215 16% 14%;         /* fondo sutil más oscuro */
  --border: 217 19% 27%;        /* #374151 */
  --ring: 217 91% 60%;          /* primary brillante (#3B82F6) para focus */

  /* Marca / secundario / acento */
  --primary: 217 91% 60%;       /* #3B82F6 */
  --primary-foreground: 0 0% 100%;
  --secondary: 271 91% 65%;     /* #A855F7 */
  --secondary-foreground: 0 0% 100%;
  --accent: 43 96% 56%;         /* #FBBF24 */
  --accent-foreground: 221 39% 11%;

  /* Semánticos */
  --success: 158 64% 52%;       /* #34D399 */
  --warning: 50 98% 64%;        /* #FDE047 */
  --destructive: 0 91% 71%;     /* #F87171 */
  --info: 198 93% 60%;          /* #38BDF8 */

  /* Foregrounds semánticos */
  --success-foreground: 221 39% 11%;
  --warning-foreground: 221 39% 11%;
  --destructive-foreground: 221 39% 11%;
  --info-foreground: 221 39% 11%;

  /* Texto secundarios */
  --muted-foreground: 218 11% 65%;  /* #9CA3AF */
  --placeholder: 218 11% 65%;

  /* input */
  --input: var(--border);
}

/* =======================
   BASE MÍNIMOS
   ======================= */
html, body {
  background: hsl(var(--bg));
  color: hsl(var(--fg));
}

@layer base {
  * { border-color: hsl(var(--border)); }
  body {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }
  ::selection {
    background: hsl(var(--accent) / 0.25);
    color: hsl(var(--fg));
  }
  :focus-visible {
    outline: none;
    box-shadow: 0 0 0 3px hsl(var(--ring) / 0.5);
  }
}

/* =======================
   UTILIDADES CUSTOM
   (se usan en HTML; NO se @apply-an)
   ======================= */
@layer utilities {
  .bg-base { background-color: hsl(var(--bg)); }
  .bg-card { background-color: hsl(var(--card)); }
  .bg-muted { background-color: hsl(var(--muted)); }

  .text-base { color: hsl(var(--fg)); }
  .text-muted { color: hsl(var(--muted-foreground)); }
  .text-placeholder { color: hsl(var(--placeholder)); }

  .border-base { border-color: hsl(var(--border)); }
  .ring-brand { box-shadow: 0 0 0 3px hsl(var(--ring) / 0.6); }

  .shadow-soft { box-shadow: var(--shadow-soft); }
  .shadow-strong { box-shadow: var(--shadow-strong); }

  .rounded-app { border-radius: var(--radius); }

  .bg-brand-gradient {
    background-image: linear-gradient(
      135deg,
      hsl(var(--primary)) 0%,
      hsl(var(--accent)) 100%
    );
  }

  /* primary / secondary / accent */
  .bg-primary\/5  { background-color: hsl(var(--primary) / 0.05); }
  .bg-primary\/10 { background-color: hsl(var(--primary) / 0.10); }
  .text-primary { color: hsl(var(--primary)); }
  .text-primary-foreground { color: hsl(var(--primary-foreground)); }

  .bg-secondary { background-color: hsl(var(--secondary)); }
  .text-secondary-foreground { color: hsl(var(--secondary-foreground)); }

  .bg-accent { background-color: hsl(var(--accent)); }
  .text-accent-foreground { color: hsl(var(--accent-foreground)); }

  /* estados */
  .bg-success { background-color: hsl(var(--success)); }
  .text-success-foreground { color: hsl(var(--success-foreground)); }

  .bg-warning { background-color: hsl(var(--warning)); }
  .text-warning-foreground { color: hsl(var(--warning-foreground)); }

  .bg-destructive { background-color: hsl(var(--destructive)); }
  .text-destructive-foreground { color: hsl(var(--destructive-foreground)); }

  .bg-info { background-color: hsl(var(--info)); }
  .text-info-foreground { color: hsl(var(--info-foreground)); }

  /* Helpers */
  [data-state="open"] .rotate-open-180 { transform: rotate(180deg); }
  .motion-safe .transition-smooth { transition: all 200ms cubic-bezier(.2,.7,.2,1); }
}

/* =======================
   COMPONENTES OPINADOS
   (sin @apply a utilidades custom)
   ======================= */
@layer components {
  /* Card */
  .card {
    background-color: hsl(var(--card));
    color: hsl(var(--fg));
    border: 1px solid hsl(var(--border));
    border-radius: var(--radius);
    box-shadow: var(--shadow-soft);
  }
  .card-hover {
    transition: transform 200ms cubic-bezier(.2,.7,.2,1);
    will-change: transform;
  }
  .card-hover:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-strong);
  }

  /* Botones */
  .btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem; /* py-2 px-4 */
    font-size: 0.875rem;  /* text-sm */
    font-weight: 500;
    line-height: 1;
    border-radius: var(--radius);
    border: 1px solid transparent;
    transition: background-color .15s, color .15s, border-color .15s, box-shadow .15s, transform .1s;
  }
  .btn:active { transform: scale(0.98); }

  .btn-primary {
    background-color: hsl(var(--primary));
    color: hsl(var(--primary-foreground));
  }
  .btn-primary:hover { background-color: hsl(var(--primary) / 0.92); }
  .btn-primary:disabled { opacity: .6; pointer-events: none; }

  .btn-secondary {
    background-color: hsl(var(--secondary));
    color: hsl(var(--secondary-foreground));
  }
  .btn-secondary:hover { background-color: hsl(var(--secondary) / 0.92); }

  .btn-accent {
    background-color: hsl(var(--accent));
    color: hsl(var(--accent-foreground));
  }
  .btn-accent:hover { background-color: hsl(var(--accent) / 0.92); }

  .btn-ghost {
    background-color: transparent;
    color: hsl(var(--fg));
    border-color: hsl(var(--border));
  }
  .btn-ghost:hover { background-color: hsl(var(--muted) / 0.5); }

  .btn-destructive {
    background-color: hsl(var(--destructive));
    color: hsl(var(--destructive-foreground));
  }
  .btn-destructive:hover { background-color: hsl(var(--destructive) / 0.92); }

  .btn-info {
    background-color: hsl(var(--info));
    color: hsl(var(--info-foreground));
  }
  .btn-info:hover { background-color: hsl(var(--info) / 0.92); }

  /* Inputs */
  .input, .select, .textarea {
    width: 100%;
    background-color: hsl(var(--card));
    color: hsl(var(--fg));
    border: 1px solid hsl(var(--border));
    border-radius: var(--radius);
    padding: 0.5rem 0.75rem;
    transition: border-color .15s, box-shadow .15s, background-color .15s;
  }
  .input::placeholder, .textarea::placeholder { color: hsl(var(--placeholder)); }
  .input:focus, .select:focus, .textarea:focus {
    box-shadow: 0 0 0 3px hsl(var(--ring) / 0.4);
    border-color: hsl(var(--ring));
    outline: none;
  }
  .input:disabled { opacity: .6; cursor: not-allowed; }

  /* Badges */
  .badge {
    display: inline-flex;
    align-items: center;
    border-radius: 9999px;
    padding: 0.25rem 0.625rem; /* 4px 10px */
    font-size: 0.75rem;        /* text-xs */
    font-weight: 500;
    border: 1px solid transparent;
  }
  .badge-success {
    background-color: hsl(var(--success) / 0.15);
    color: hsl(var(--success));
    border-color: hsl(var(--success) / 0.3);
  }
  .badge-warning {
    background-color: hsl(var(--warning) / 0.16);
    color: hsl(var(--warning-foreground));
    border-color: hsl(var(--warning) / 0.35);
  }
  .badge-destructive {
    background-color: hsl(var(--destructive) / 0.14);
    color: hsl(var(--destructive));
    border-color: hsl(var(--destructive) / 0.35);
  }
  .badge-info {
    background-color: hsl(var(--info) / 0.14);
    color: hsl(var(--info));
    border-color: hsl(var(--info) / 0.35);
  }

  /* Alertas */
  .alert {
    border-radius: var(--radius);
    border: 1px solid hsl(var(--border));
    padding: 0.75rem 1rem;
    display: flex;
    gap: 0.75rem;
    align-items: flex-start;
  }
  .alert-success {
    background: hsl(var(--success) / 0.08);
    border-color: hsl(var(--success) / 0.35);
    color: hsl(var(--success));
  }
  .alert-warning {
    background: hsl(var(--warning) / 0.10);
    border-color: hsl(var(--warning) / 0.35);
    color: hsl(var(--warning-foreground));
  }
  .alert-destructive {
    background: hsl(var(--destructive) / 0.10);
    border-color: hsl(var(--destructive) / 0.4);
    color: hsl(var(--destructive));
  }
  .alert-info {
    background: hsl(var(--info) / 0.10);
    border-color: hsl(var(--info) / 0.35);
    color: hsl(var(--info));
  }
}
