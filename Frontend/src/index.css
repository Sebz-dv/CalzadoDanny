@import "tailwindcss";

/* =======================
   VARIANTE DARK (Tailwind v4)
   ======================= */
@custom-variant dark (&:where(.dark, .dark *));

/* =======================
   TOKENS (HSL con /alpha)
   ======================= */
:root {
  /* üåû Light Mode ‚Äî beige c√°lido */
  --bg: 33 78% 91%;            /* #FAEAD7 */
  --fg: 27 22% 8%;             /* #191410 */

  --card: 0 0% 100%;           /* #FFFFFF */
  --muted: 33 52% 96%;         /* beige muy claro para fondos sutiles */
  --border: 24 19% 60%;        /* #AC9484 */
  --ring: 24 19% 60%;          /* #AC9484 */

  /* Marca y CTA (brand caf√© + acentos beige) */
  --primary: 30 41% 20%;       /* #48331E */
  --primary-foreground: 0 0% 100%;
  --secondary: 24 19% 60%;     /* #AC9484 */
  --secondary-foreground: 27 22% 8%; /* oscuro sobre secundario */
  --accent: 33 78% 91%;        /* #FAEAD7 */
  --accent-foreground: 27 22% 8%;    /* texto oscuro sobre accent */

  /* Sem√°nticos */
  --success: 160 84% 39%;
  --warning: 48 96% 53%;
  --destructive: 0 84% 60%;
  --info: 199 89% 48%;

  --success-foreground: 0 0% 100%;
  --warning-foreground: 27 22% 8%;
  --destructive-foreground: 0 0% 100%;
  --info-foreground: 0 0% 100%;

  /* Texto secundarios / placeholders */
  --muted-foreground: 24 12% 35%;
  --placeholder: 24 12% 35%;
  --input: var(--border);

  /* Radius y sombras */
  --radius: 0.75rem;
  --shadow-soft: 0 2px 10px hsl(27 22% 8% / 0.08);
  --shadow-strong: 0 10px 30px hsl(27 22% 8% / 0.16);

  /* Reutilizable: ruido SVG (una sola l√≠nea, sin saltos) */
  --noise-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='120' height='120' viewBox='0 0 120 120'><filter id='n'><feTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='3' stitchTiles='stitch'/></filter><rect width='120' height='120' filter='url(%23n)' opacity='0.04'/></svg>");
}

/* =======================
   OVERRIDES DARK MODE
   ======================= */
.dark {
  /* üåö Dark Mode ‚Äî caf√© profundo */
  --bg: 27 22% 8%;             /* #191410 */
  --fg: 33 78% 91%;            /* #FAEAD7 */

  --card: 30 41% 20%;          /* #48331E */
  --muted: 30 30% 12%;
  --border: 30 41% 20%;
  --ring: 24 19% 60%;

  /* Marca */
  --primary: 33 78% 91%;
  --primary-foreground: 27 22% 8%;
  --secondary: 24 19% 60%;
  --secondary-foreground: 27 22% 8%;
  --accent: 33 78% 91%;
  --accent-foreground: 27 22% 8%;

  /* Sem√°nticos */
  --success: 158 64% 52%;
  --warning: 50 98% 64%;
  --destructive: 0 91% 71%;
  --info: 198 93% 60%;

  --success-foreground: 27 22% 8%;
  --warning-foreground: 27 22% 8%;
  --destructive-foreground: 27 22% 8%;
  --info-foreground: 27 22% 8%;

  /* Texto secundarios */
  --muted-foreground: 33 25% 75%;
  --placeholder: 33 25% 75%;

  /* input */
  --input: var(--border);
}

/* =======================
   BASE M√çNIMOS
   ======================= */
html, body {
  background: hsl(var(--bg));
  color: hsl(var(--fg));
}

@layer base {
  :root {
    /* Derivados pr√°cticos */
    --border-subtle: hsl(var(--border) / 0.45);
    --border-strong: hsl(var(--border) / 0.85);
    --surface: hsl(var(--card));
    --surface-muted: hsl(var(--muted));
    --text: hsl(var(--fg));
    --text-muted: hsl(var(--muted-foreground));
    --ring-strong: hsl(var(--ring) / 0.55);
  }

  * { border-color: var(--border-subtle); }

  body {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }

  ::selection {
    background: hsl(var(--accent) / 0.25);
    color: var(--text);
  }

  :focus-visible {
    outline: none;
    box-shadow: 0 0 0 3px var(--ring-strong);
    border-radius: var(--radius);
  }

  /* Scrollbar elegante */
  * {
    scrollbar-width: thin;
    scrollbar-color: hsl(var(--border)) transparent;
  }
  *::-webkit-scrollbar { height: 10px; width: 10px; }
  *::-webkit-scrollbar-thumb {
    background: hsl(var(--border) / 0.6);
    border-radius: calc(var(--radius) * 0.75);
    border: 2px solid transparent;
    background-clip: content-box;
  }
  *::-webkit-scrollbar-thumb:hover { background: hsl(var(--border) / 0.8); }
}

/* =======================
   UTILIDADES
   ======================= */
@layer utilities {
  .bg-brand-gradient {
    background:
      radial-gradient(1200px 600px at 20% -10%, hsl(var(--accent) / 0.65), transparent 60%),
      radial-gradient(900px 500px at 100% 0%, hsl(var(--secondary) / 0.35), transparent 60%),
      linear-gradient(180deg, hsl(var(--bg)), hsl(var(--bg)));
  }

  /* Corregida: data URI en una sola l√≠nea (sin \, sin saltos) */
  .bg-noise {
    background-image: var(--noise-image);
    background-repeat: repeat;
  }

  .border-subtle { border-color: var(--border-subtle); }
  .border-strong { border-color: var(--border-strong); }

  .shadow-soft { box-shadow: var(--shadow-soft); }
  .shadow-strong { box-shadow: var(--shadow-strong); }

  .surface-muted { background: var(--surface-muted); }
  .surface { background: var(--surface); }
}

/* =======================
   COMPONENTES
   ======================= */
@layer components {
  /* --- Contenedores / tarjetas --- */
  .card {
    background: var(--surface);
    border: 1px solid var(--border-subtle);
    border-radius: var(--radius);
    box-shadow: var(--shadow-soft);
  }
  .card:hover { box-shadow: var(--shadow-strong); }
  .card-header {
    padding: 0.9rem 1rem;
    border-bottom: 1px solid var(--border-subtle);
    display: flex; align-items: center; gap: 0.5rem;
  }
  .card-body { padding: 1rem; }
  .card-footer {
    padding: 0.9rem 1rem;
    border-top: 1px solid var(--border-subtle);
    display: flex; gap: 0.5rem; justify-content: flex-end;
  }

  /* --- Separadores --- */
  .separator { height: 1px; width: 100%; background: var(--border-subtle); }

  /* --- Links --- */
  .link {
    color: hsl(var(--primary));
    text-decoration: none;
    border-bottom: 1px dashed hsl(var(--primary) / 0.3);
  }
  .link:hover { border-bottom-style: solid; }

  /* --- Botones --- */
  .btn {
    --_bg: hsl(var(--muted));
    --_fg: var(--text);
    display: inline-flex; align-items: center; justify-content: center; gap: 0.5rem;
    padding: 0.6rem 0.9rem;
    border-radius: calc(var(--radius) - 2px);
    border: 1px solid var(--border-subtle);
    background: var(--_bg);
    color: var(--_fg);
    font-weight: 600;
    transition: transform .06s ease, box-shadow .2s ease, background .2s ease, border-color .2s ease, color .2s ease;
    box-shadow: var(--shadow-soft);
  }
  .btn:hover { transform: translateY(-1px); box-shadow: var(--shadow-strong); border-color: var(--border-strong); }
  .btn:active { transform: translateY(0); }

  .btn-primary {
    --_bg: hsl(var(--primary));
    --_fg: hsl(var(--primary-foreground));
    border-color: hsl(var(--primary) / 0.8);
  }
  .btn-secondary {
    --_bg: hsl(var(--secondary));
    --_fg: hsl(var(--secondary-foreground));
    border-color: hsl(var(--secondary) / 0.8);
  }
  .btn-outline {
    --_bg: transparent;
    --_fg: var(--text);
    background: transparent;
    border-color: var(--border-strong);
  }
  .btn-ghost {
    --_bg: transparent; --_fg: var(--text);
    background: transparent; border-color: transparent; box-shadow: none;
  }
  .btn[disabled], .btn:disabled { opacity: .6; cursor: not-allowed; }

  /* --- Badges / Chips --- */
  .badge {
    display: inline-flex; align-items: center; gap: .4rem;
    padding: .25rem .5rem; border-radius: 999px;
    background: var(--surface-muted); color: var(--text-muted);
    border: 1px solid var(--border-subtle); font-weight: 600; font-size: .75rem;
  }

  /* --- Inputs / Forms --- */
  .field { display: grid; gap: .4rem; }
  .label { font-size: .85rem; color: var(--text-muted); font-weight: 600; }
  .input, .textarea, .select {
    width: 100%;
    background: hsl(var(--bg));
    color: var(--text);
    border: 1px solid var(--border-subtle);
    border-radius: calc(var(--radius) - 2px);
    padding: .6rem .75rem;
    transition: border-color .2s ease, box-shadow .2s ease, background .2s ease;
  }
  .textarea { min-height: 120px; resize: vertical; }
  .select {
    appearance: none;
    background-image:
      linear-gradient(45deg, transparent 50%, var(--text) 50%),
      linear-gradient(135deg, var(--text) 50%, transparent 50%),
      linear-gradient(to right, transparent, transparent);
    background-position:
      calc(100% - 20px) calc(1em + 2px),
      calc(100% - 15px) calc(1em + 2px),
      100% 0;
    background-size: 5px 5px, 5px 5px, 2.5em 2.5em;
    background-repeat: no-repeat;
  }
  .input::placeholder, .textarea::placeholder { color: var(--text-muted); }
  .input:focus, .textarea:focus, .select:focus {
    border-color: var(--border-strong);
    box-shadow: 0 0 0 3px var(--ring-strong);
    background: var(--surface);
  }
  .help { font-size: .8rem; color: var(--text-muted); }

  /* Tama√±os r√°pidos */
  .is-sm { padding: .45rem .6rem !important; font-size: .875rem; }
  .is-lg { padding: .8rem 1rem !important; font-size: 1.05rem; }

  /* Estados sem√°nticos visuales en bordes */
  .is-success { border-color: hsl(var(--success)); }
  .is-warning { border-color: hsl(var(--warning)); }
  .is-danger  { border-color: hsl(var(--destructive)); }

  /* --- Tabla --- */
  .table {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0;
    background: var(--surface);
    border: 1px solid var(--border-subtle);
    border-radius: var(--radius);
    overflow: hidden;
    box-shadow: var(--shadow-soft);
  }
  .table thead th {
    text-align: left; font-weight: 700; font-size: .9rem; letter-spacing: .02em;
    background: var(--surface-muted); color: var(--text);
    border-bottom: 1px solid var(--border-subtle);
    padding: .75rem .9rem;
  }
  .table tbody td {
    border-bottom: 1px solid var(--border-subtle);
    padding: .75rem .9rem;
  }
  .table tbody tr:last-child td { border-bottom: 0; }
  .table tbody tr:hover { background: hsl(var(--muted) / 0.5); }

  /* --- Navbar / Paneles --- */
  .panel {
    background: var(--surface);
    border: 1px solid var(--border-subtle);
    border-radius: var(--radius);
    box-shadow: var(--shadow-soft);
  }
  .navbar {
    background: var(--surface);
    border-bottom: 1px solid var(--border-subtle);
    backdrop-filter: saturate(140%) blur(6px);
  }

  /* --- KBD --- */
  .kbd {
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    font-size: .78rem; padding: .15rem .4rem; border-radius: .5rem;
    background: var(--surface-muted);
    border: 1px solid var(--border-subtle);
    box-shadow: inset 0 -1px 0 hsl(var(--bg) / .5);
  }
}

/* =======================
   FIN ‚Äî listo para pegar
   ======================= */
